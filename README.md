# Inventory-problem

## 并发时库存超卖时问题解决
### 方案一
>- 数据库设置字段为无符号型
>- 当并发超卖时直接报异常
>- 通过捕获异常提示已经售空。
 
### 方案二
>- 采用排他锁
>- 当用户同时到达更新操作，同时到达的用户一个个执行
>- 在当前这个update语句commit之前，其他用户等待执行
 
### 方案三
>- 采用Redis的队列实现，用于抢购
>- 先从MySQL读取库存数，放到Redis的队列中
>- 用户直接操作队列，当队列为空时提醒售空
>- 当抢购结束后可执行更新库存表操作
 